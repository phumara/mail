{% extends 'base.html' %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">

    <h1>Campaigns ({{ campaigns|length }})</h1>

    <a href="/campaigns/create/" class="btn btn-primary">+ New</a>

</div>

<div class="mb-3">

    <div class="input-group">

        <span class="input-group-text"><i class="bi bi-search"></i></span>

        <input type="text" class="form-control" placeholder="Name or subject">

    </div>

</div>

<div class="d-flex justify-content-end mb-3">

    <nav aria-label="Page navigation">

        <ul class="pagination">

            <li class="page-item disabled"><a class="page-link" href="#">1</a></li>

            <li class="page-item"><a class="page-link" href="#">2</a></li>

            <li class="page-item"><a class="page-link" href="#">3</a></li>

            <li class="page-item"><a class="page-link" href="#"><i class="bi bi-chevron-right"></i></a></li>

        </ul>

    </nav>

</div>

<table class="table table-striped">

    <thead>

        <tr>

            <th>Status</th>

            <th>Name</th>

            <th>Lists</th>

            <th>Timestamps</th>

            <th>Stats</th>

        </tr>

    </thead>

    <tbody>

        {% for campaign in campaigns %}

        <tr>

            <td>

                <span class="badge bg-{% if campaign.status == 'draft' %}secondary{% elif campaign.status == 'scheduled' %}info{% elif campaign.status == 'running' %}warning{% else %}success{% endif %}">{{ campaign.get_status_display }}</span>

            </td>

            <td>

                <strong>{{ campaign.name }}</strong>

                <br>

                <small class="text-muted">{{ campaign.subject }}</small>

            </td>

            <td>

                {% for segment in campaign.segments.all %}

                <span class="badge bg-light text-dark">{{ segment.name }}</span>

                {% endfor %}

            </td>

            <td>

                <strong>Created</strong><br>

                {{ campaign.created_at|date:"D, d M Y, H:i" }}<br>

                {% if campaign.started_at %}

                <strong>Started</strong><br>

                {{ campaign.started_at|date:"D, d M Y, H:i" }}<br>

                {% endif %}

                {% if campaign.ended_at %}

                <strong>Ended</strong><br>

                {{ campaign.ended_at|date:"D, d M Y, H:i" }}<br>

                {% endif %}

            </td>

            <td>

                <div class="row">

                    <div class="col">

                        <strong>Views</strong><br>

                        {{ campaign.views }}<br>

                        <a href="#" class="text-muted"><i class="bi bi-eye"></i></a>

                    </div>

                    <div class="col">

                        <strong>Clicks</strong><br>

                        {{ campaign.clicks }}<br>

                        <a href="#" class="text-muted"><i class="bi bi-cursor"></i></a>

                    </div>

                    <div class="col">

                        <strong>Sent</strong><br>

                        {{ campaign.sent }}<br>

                        <a href="#" class="text-muted"><i class="bi bi-envelope"></i></a>

                    </div>

                    <div class="col">

                        <strong>Bounces</strong><br>

                        {{ campaign.bounces }}<br>

                        <a href="#" class="text-muted"><i class="bi bi-exclamation-triangle"></i></a>

                    </div>

                </div>

            </td>

        </tr>

        {% endfor %}

    </tbody>

</table>

{% endblock %}